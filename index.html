<!doctype html>
<html lang="en-CA">
<head>
<meta charset="UTF-8" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<script type="importmap">
	{
    "imports": {
       "solid-js": "https://esm.sh/solid-js",
		 "solid-js/web": "https://esm.sh/solid-js/web"
    }
  }
</script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>playground</title>
<link rel="stylesheet" href="/src/style.css">
</head>
<body>

<div id="playground">
	<article class="code"></article>
	<button class="handle"></button>
	<iframe class="preview"></iframe>
</div>
<script>
	async function registerServiceWorker() {
		if ("serviceWorker" in navigator) {
			try {
				const registration = await navigator.serviceWorker.register(
					"/service-worker.js",
					{
						scope: "/"
					}
				)
				if (registration.installing) {
					console.info("Service worker installing")
				} else if (registration.waiting) {
					console.info("Service worker installed")
					location.reload()
				} else if (registration.active) {
					console.info("Service worker active")
				}
			} catch (error) {
				console.error(`Registration failed with ${error}`)
			}
			let ref = false
			navigator.serviceWorker.addEventListener("controllerchange", function () {
				if (ref) return
				ref = true
				window.location.reload()
			})
		}
	}
 registerServiceWorker()
</script>
<script type="module" src="/src/panes.ts"></script>
<script type="module" src="/src/main.ts"></script>
</body>
</html>
